--###############################################
--######## CREATE BELIEFS TABLE IN APEX #########
--###############################################
  CREATE TABLE "PATHEOS_DATA"."APEX_BELIEFS" 
   (	"BELIEFS_NUMBER" NUMBER NOT NULL ENABLE, 
	"BELIEFS_NAME" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"BELIEFS_TRADITION" VARCHAR2(255 BYTE), 
	"IMAGE" BLOB, 
	"BELIEFS_URL" VARCHAR2(1000 BYTE), 
	"PK" NUMBER NOT NULL ENABLE, 
	"CREATED_USER" VARCHAR2(20 BYTE) DEFAULT USER, 
	"CREATED_DATE" DATE DEFAULT SYSTIMESTAMP, 
	 CONSTRAINT "APEX_BELIEFS_PK" PRIMARY KEY ("PK")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA" 
 LOB ("IMAGE") STORE AS BASICFILE (
  TABLESPACE "PATHEOS_DATA" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

  CREATE OR REPLACE TRIGGER "PATHEOS_DATA"."BI_APEX_BELIEFS" 
  before insert on patheos_data."APEX_BELIEFS"               
  for each row  
begin   
  if :NEW."PK" is null then 
    --SELECT (MAX(beliefs_number) + 1) INTO :NEW."beliefs_number";
    select "APEX_BELIEFS_SEQ".nextval into :NEW."PK" from dual; 
  end if; 
end;
/
ALTER TRIGGER "PATHEOS_DATA"."BI_APEX_BELIEFS" ENABLE;


--###############################################
--######### CREATE BLOGS TABLE IN APEX ##########
--###############################################
  CREATE TABLE "PATHEOS_DATA"."APEX_BLOGS" 
   (	"BLOGS_NUMBER" NUMBER NOT NULL ENABLE, 
	"BLOGS_AUTHOR" VARCHAR2(150 BYTE), 
	"BLOGS_IMAGE" BLOB, 
	"BELIEFS_NUMBER" NUMBER NOT NULL ENABLE, 
	"BLOGS_NAME" VARCHAR2(255 BYTE), 
	"BLOGS_URL" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
	"PK" NUMBER NOT NULL ENABLE, 
	"CREATED_USER" VARCHAR2(20 BYTE) DEFAULT USER, 
	"CREATED_DATE" DATE DEFAULT SYSTIMESTAMP, 
	 CONSTRAINT "APEX_BLOGS_PK" PRIMARY KEY ("PK")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA" 
 LOB ("BLOGS_IMAGE") STORE AS BASICFILE (
  TABLESPACE "PATHEOS_DATA" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

  CREATE OR REPLACE TRIGGER "PATHEOS_DATA"."BI_APEX_BLOGS" 
  before insert on patheos_data."APEX_BLOGS"               
  for each row  
begin   
  if :NEW."PK" is null then 
    select "APEX_BLOGS_SEQ".nextval into :NEW."PK" from dual; 
  end if; 
end;
/
ALTER TRIGGER "PATHEOS_DATA"."BI_APEX_BLOGS" ENABLE;


--###############################################
--######### CREATE POSTS TABLE IN APEX ##########
--###############################################
  CREATE TABLE "PATHEOS_DATA"."APEX_POSTS" 
   (	"POSTS_NUMBER" NUMBER NOT NULL ENABLE, 
	"POSTS_TITLE" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"BLOGS_NUMBER" NUMBER NOT NULL ENABLE, 
	"POSTS_AUTHOR" VARCHAR2(255 BYTE), 
	"POSTS_DATE" DATE, 
	"POSTS_TAGS" VARCHAR2(255 BYTE), 
	"POSTS_CONTENT" CLOB, 
	"POSTS_IMAGE" BLOB, 
	"POSTS_URL" VARCHAR2(2000 BYTE) NOT NULL ENABLE, 
	"PK" NUMBER NOT NULL ENABLE, 
	"CREATED_USER" VARCHAR2(20 BYTE) DEFAULT USER, 
	"CREATED_DATE" DATE DEFAULT SYSTIMESTAMP, 
	 CONSTRAINT "APEX_POSTS_PK" PRIMARY KEY ("PK")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "PATHEOS_DATA" 
 LOB ("POSTS_CONTENT") STORE AS BASICFILE (
  TABLESPACE "PATHEOS_DATA" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("POSTS_IMAGE") STORE AS BASICFILE (
  TABLESPACE "PATHEOS_DATA" ENABLE STORAGE IN ROW CHUNK 8192 RETENTION 
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

  CREATE OR REPLACE TRIGGER "PATHEOS_DATA"."BI_APEX_POSTS" 
  before insert on patheos_data."APEX_POSTS"               
  for each row  
begin   
  if :NEW."PK" is null then 
    select "APEX_POSTS_SEQ".nextval into :NEW."PK" from dual; 
  end if; 
end;
/
ALTER TRIGGER "PATHEOS_DATA"."BI_APEX_POSTS" ENABLE;
